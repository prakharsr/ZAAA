<div class="container">
  <form (ngSubmit)="submit()" #receiptForm="ngForm">
    <mat-card>
      <p><strong>Pending Amount:</strong> â‚¹ {{invoice.pendingAmount}}</p>
    
      <br>
    
      <mat-form-field>
        <input matInput type="number" id="paymentAmount" name="paymentAmount" placeholder="Amount" [(ngModel)]="receipt.paymentAmount" required #paymentAmountField="ngModel">
        <mat-error *ngIf="paymentAmountField.errors && paymentAmountField.errors.required">
          Amount is required.
        </mat-error>
      </mat-form-field>
  
      <br>

      <strong>Payment Details</strong>
      <br><br>

      <mat-form-field>
        <mat-select name="paymentType" placeholder="Type" [(ngModel)]="receipt.paymentType" id="paymentType" #paymentTypeField="ngModel" required>
          <mat-option *ngFor="let item of paymentTypes" [value]="item">{{item}}</mat-option>
        </mat-select>
      </mat-form-field>

      <ng-container *ngIf="receipt.paymentType != 'Cash' && receipt.paymentType != 'Credit'">
        <div class="row">
          <mat-form-field class="col-lg col-md-6">
            <input matInput [matDatepicker]="paymentDateField" name="paymentDate" placeholder="Date" [(ngModel)]="receipt.paymentDate" required disabled>
            <mat-datepicker-toggle matSuffix [for]="paymentDateField"></mat-datepicker-toggle>
            <mat-datepicker #paymentDateField disabled="false"></mat-datepicker>
            <mat-error *ngIf="paymentDateField.errors && paymentDateField.errors.required">
              Date is required.
            </mat-error>
          </mat-form-field>
    
          <mat-form-field class="col-lg col-md-6">
            <input matInput type="text" id="paymentCheque" name="paymentCheque" placeholder="No" [(ngModel)]="receipt.paymentNo" required #paymentChequeField="ngModel">
            <mat-error *ngIf="paymentChequeField.errors && paymentChequeField.errors.required">
              No is required.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field class="col-lg col-md-6">
            <input type="number" matInput id="paymentAmount" name="paymentAmount" placeholder="Enter Amount" [(ngModel)]="receipt.paymentAmount" required #paymentAmountField="ngModel">
            <mat-error *ngIf="paymentAmountField.errors && paymentAmountField.errors.required">
              Amount is required.
            </mat-error>
          </mat-form-field>
    
          <ng-container *ngIf="receipt.paymentType == 'Cheque'">
            <mat-form-field class="col-lg col-md-6">
              <input type="text" matInput id="bankName" name="bankName" placeholder="Bank Name" [(ngModel)]="receipt.paymentBankName" required #bankNameField="ngModel">
              <mat-error *ngIf="bankNameField.errors && bankNameField.errors.required">
                Bank Name is required.
              </mat-error>
            </mat-form-field>
          </ng-container>
        </div>
      </ng-container>
  
      <br><br>
  
      <button type="submit" class="btn btn-success" [disabled]="!receiptForm.form.valid">Save</button>
      <button class="btn btn-danger" type="button" (click)="cancel()">Cancel</button>
    </mat-card>
  </form>
</div>