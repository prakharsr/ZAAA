<mat-toolbar>  
  <mat-toolbar-row>
    <div class="container">Add New Co-Users</div>
  </mat-toolbar-row>
</mat-toolbar>

<br>

<div class="container">
  <form (ngSubmit)="submit()" #newCoUserForm="ngForm">
    <div class="row">
      <div class="col-lg col-md-6">
        <mat-card>
          <mat-card-title>Co-User Details</mat-card-title>
          <mat-form-field>
            <input matInput type="text" name="name" placeholder="Name" [(ngModel)]="coUser.name" required #nameField="ngModel">
            <mat-error *ngIf="nameField.errors?.required">
              Name is required.
            </mat-error>
          </mat-form-field>
      
          <mat-form-field>
            <input matInput type="text" name="designation" placeholder="Designation" [(ngModel)]="coUser.designation" #designationField="ngModel">
          </mat-form-field>
      
          <mat-form-field>
            <input matInput type="email" name="email" placeholder="Email" [(ngModel)]="coUser.email" required #emailField="ngModel" verify-email>
            <mat-error *ngIf="emailField.errors?.required">
              Email is required.
            </mat-error>
            <mat-error *ngIf="emailField.errors?.email">
              Invalid Email.
            </mat-error>
          </mat-form-field>
      
          <mat-form-field>
            <span matPrefix>+91 &nbsp;</span>
            <input matInput type="tel" pattern="^\d{10}$" maxlength="10" minlength="10" name="phone" placeholder="Phone Number" [(ngModel)]="coUser.phone" required #phoneField="ngModel">
            <mat-error *ngIf="phoneField.errors?.required">
              Phone Number is empty or invalid.
            </mat-error>
          </mat-form-field>
        </mat-card>
      </div>
      <div class="col-lg col-md-6">
        <mat-card>
          <mat-card-title>Co-User Roles</mat-card-title>

          <mat-checkbox class="my-2" name="isAdmin" [(ngModel)]="coUser.isAdmin" #isAdminField="ngModel">Is Admin</mat-checkbox>

          <br>      
      
          <app-role-control *ngIf="!coUser.isAdmin" [(roles)]="coUser.roles"></app-role-control>
      
          <br>
        </mat-card>
      </div>
    </div>
    <br><br>

    <div class="d-none d-md-block">
      <button type="submit" mat-raised-button color="primary" class="bg-success" [disabled]="!newCoUserForm.form.valid">
        <mat-icon>add</mat-icon> Add
      </button>

      <button type="button" mat-raised-button color="warn" (click)="onCancel()">
        <mat-icon>cancel</mat-icon> Cancel
      </button>
    </div>

    <mat-toolbar class="d-md-none fixed-bottom">
      <div class="container-fluid">
        <div class="form-row">
          <div class="col">
            <button type="button" class="btn btn-block btn-outline-success border-0 btn-sm" [disabled]="!newCoUserForm.form.valid" color="primary">
              <mat-icon>add</mat-icon>
              <div class="small">Add</div>
            </button>
          </div>
          <div class="col">
            <button type="button" class="btn btn-block btn-outline-danger border-0 btn-sm" (click)="onCancel()">
              <mat-icon>cancel</mat-icon>
              <div class="small">Cancel</div>
            </button>
          </div>
        </div>
      </div>
    </mat-toolbar>
  </form>
</div>