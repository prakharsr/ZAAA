<form (ngSubmit)="submit()" #dirForm="ngForm">
  <h2 *ngIf="edit">Edit Executive</h2>
  <h2 *ngIf="!edit">Add Executive</h2>

  <br><br>

  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Executive Details</mat-panel-title>
        <mat-panel-description>Enter Executive and Organisation details</mat-panel-description>
      </mat-expansion-panel-header>

      <mat-form-field>
        <input matInput placeholder="Executive Name" name="executiveName" [(ngModel)]="executive.executiveName" required #executiveNameField="ngModel">
        <mat-error *ngIf="executiveNameField.errors && executiveNameField.errors.required">
          Executive Name is required.
        </mat-error>
      </mat-form-field>

      <div class="form-row">
        <div class="col">
          <mat-form-field>
            <input matInput placeholder="Organisation Name" name="orgName" [(ngModel)]="executive.orgName" required #orgNameField="ngModel">
            <mat-error *ngIf="orgNameField.errors && orgNameField.errors.required">
              Organisation Name is required.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-auto align-self-center">
          <button class="btn btn-sm btn-outline-info" type="button" (click)="executive.orgName = firm.name">Copy Firm Name</button>
        </div>
      </div>

      <mat-form-field>
        <input matInput placeholder="Designation" name="designation" [(ngModel)]="executive.designation">
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Department" name="department" [(ngModel)]="executive.department">
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Remark" name="remark" [(ngModel)]="executive.Remark">
      </mat-form-field>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Contact Details</mat-panel-title>
        <mat-panel-description>Enter Mobile Number and Email</mat-panel-description>
      </mat-expansion-panel-header>

      <mat-form-field>
        <span matPrefix>+91 &nbsp;</span>
        <input type="tel" matInput placeholder="Mobile Number" [(ngModel)]="executive.mobileNo" pattern="^\d{10}$" maxlength="10" minlength="10" required name="mobileNo" #mobileNoField="ngModel">
        <mat-error *ngIf="mobileNoField.errors">
          Mobile Number is empty or invalid.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Email" [(ngModel)]="executive.email" name="email" verify-email #emailField="ngModel">
        <mat-error *ngIf="emailField.errors && emailField.errors.email">
          Invalid Email.
        </mat-error>
      </mat-form-field>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Personal Details</mat-panel-title>
        <mat-panel-description>Enter Personal Details</mat-panel-description>
      </mat-expansion-panel-header>

      <mat-form-field>
        <input matInput [matDatepicker]="dobPicker" placeholder="Date of Birth" [(ngModel)]="executive.dob" name="dob" disabled>
        <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
        <mat-datepicker #dobPicker disabled="false"></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <input matInput [matDatepicker]="anniversaryPicker" placeholder="Anniversary Date" [(ngModel)]="executive.anniversaryDate" name="anniversaryDate" disabled>
        <mat-datepicker-toggle matSuffix [for]="anniversaryPicker"></mat-datepicker-toggle>
        <mat-datepicker #anniversaryPicker disabled="false"></mat-datepicker>
      </mat-form-field>
    </mat-expansion-panel>
  </mat-accordion>

  <br><br>

  <button type="submit" class="btn btn-success" [disabled]="!dirForm.form.valid">Save</button>
  <button class="btn btn-danger" (click)="cancel()">Cancel</button>
</form>